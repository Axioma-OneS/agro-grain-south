# Агро Зерно Юг

Репозиторий для хранения конфигурации компании "Агро Зерно Юг"
Конфигурация "Управление торговлей, редакция 11"

## Устанавливаем Git

Скачиваем дистрибутив с официального сайта Git или с помощью Chocolatey:
```choco install git```

Или скачиваем с официального [сайта](https://git-scm.com/downloads) последнюю версию для windows

## Устанавливаем OneScript

Скачиваем с официального [сайта](https://oscript.io/) Onescript последнюю стабильную версию

## Руководство разработчика

Работа ведется на версии платформы 1С 8.3.18, актуальная версия хранится в файле [env.json](\env.json)
Используются библиотеки oscript:
```fs, vanessa-runner, v8runner, verbal-expressions, add и oscript-config```

## Полезные команды при работе с шаблоном

* Первичная настройка
  * запустить `000-prepare-tools.cmd`
  * установятся необходимые библиотеки OScript
  * отключит во всех базах 1С защиту от опасных операций при открытии внешних обработок
  * запустите `010-prepare-dev.cmd`
  * в папке build создается cf из исходников
  * создается служебная ИБ в `build/ib` или той, что прописана в `env.json`
  * выполняется обновление в режиме 1С:Предприятие
* Обновление из исходников
  * запустить `020-update-on-support.cmd`
  * в папке build создается cf из исходников
  * полученный cf загружается в служебную ИБ
  * обновляется служебная ИБ
  * запускается синтаксическая проверка
  * выполняется обновление в режиме 1С:Предприятие
* Быстро открыть служебную ИБ в режиме 1С:Предприятие
  * запустить `040-run-1c.cmd`
* Быстро открыть Конфигуратор служебной ИБ
  * запустить `040-run-designer.cmd`
* Быстро выгрузить конфигурацию временной БД в исходные файлы
  * запустить `060-before-end-dev.cmd`

### Для корректной работы на 1С версии 8.3.9.2016 и старше

Начиная с версии 8.3.9.2016 1С встроила в платформу механизмы защиты открытия внешних отчетов и обработок. Как обойти данное ограничение написано на ИТС:

> Защита считается отключенной, если строка соединения с информационной базой удовлетворяет одному из шаблонов, указанных в параметре DisableUnsafeActionProtection файла conf.cfg.

Т.о. в файл C:\Program Files (x86)\1cv8\conf\conf.cfg необходимо добавить строку DisableUnsafeActionProtection=.* Подробнее на [ИТС](https://its.1c.ru/db/v838doc/bookmark/adm/TI000000376)
